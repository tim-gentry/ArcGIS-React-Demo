const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/calcite-button-B3dK3J4O.js","assets/button-D77aSY9T.js","assets/jsxFactory-DmHi7Kb2.js","assets/index-DX0rcHuW.js","assets/index-B2yzeq1w.css","assets/uuid-fwrPAdZb.js","assets/form-DT0Txu1X.js","assets/dom-Dv5tDaqe.js","assets/interactive-CM5F_5Ay.js","assets/label-CcvHzygA.js","assets/component-ByvC-PUv.js","assets/loadable-BpL5xwNx.js","assets/locale-jvDArz_C.js","assets/key-D5DPfjW0.js","assets/observers-CLdbMMrh.js","assets/t9n-Bv5oqD69.js","assets/icon-CWAu07D3.js","assets/loader-CQvnYTBN.js","assets/calcite-icon-W-AdNGRC.js"])))=>i.map(i=>d[i]);
import{bY as d,fa as l,gJ as m,b9 as _,ac as o,ad as s,ag as v,bh as g,_ as h}from"./index-DX0rcHuW.js";import{e as y,B as b,r as f,n}from"./jsxFactory-DmHi7Kb2.js";import{e as M}from"./utils-DsJqvptN.js";import{t as R}from"./GoTo-Bv8U0vYJ.js";import{e as p}from"./globalCss-CZa70j6i.js";import"./uuid-fwrPAdZb.js";let r=class extends R(g){constructor(e){super(e),this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this.addHandles(d(()=>this.view,this._updateRotationWatcher,l))}destroy(){this.view=null}get canShowNorth(){return M(this.view)}get state(){var e;return!((e=this.view)!=null&&e.ready)||this.view.type==="2d"&&!this.view.constraints.rotationEnabled?"disabled":this.canShowNorth?"compass":"rotation"}reset(){var e,i;(e=this.view)!=null&&e.ready&&(((i=this.view)==null?void 0:i.type)==="2d"?this.callGoTo({target:{rotation:0},options:{animationMode:"always",duration:m(_("mapview-essential-goto-duration"))}}):this.callGoTo({target:{heading:0}}))}_updateForRotation(e){e!=null&&this._set("orientation",{z:e})}_updateForCamera(e){if(!e)return;const i=-e.heading;this._set("orientation",{x:0,y:0,z:i})}_updateRotationWatcher(e){this.removeAllHandles(),e&&this.addHandles(e.type==="2d"?d(()=>e==null?void 0:e.rotation,this._updateForRotation,l):d(()=>e==null?void 0:e.camera,this._updateForCamera,l))}};o([s({readOnly:!0})],r.prototype,"canShowNorth",null),o([s({readOnly:!0})],r.prototype,"orientation",void 0),o([s({readOnly:!0})],r.prototype,"state",null),o([s()],r.prototype,"view",void 0),r=o([v("esri.widgets.Compass.CompassViewModel")],r);const w=r,c="esri-compass",u={base:c,iconContainer:`${c}__icon-container`};let a=class extends b{constructor(t,e){super(t,e),this.messages=null,this.viewModel=new w,this._reset=()=>{this.viewModel.reset()},this._toRotationTransform=i=>({transform:`rotateZ(${i.z}deg)`})}loadDependencies(){return f({button:()=>h(()=>import("./calcite-button-B3dK3J4O.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17])),icon:()=>h(()=>import("./calcite-icon-W-AdNGRC.js"),__vite__mapDeps([18,16,2,3,4,5,7,14]))})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(t){this.viewModel.goToOverride=t}get icon(){return this.viewModel.state==="rotation"?"arrow-up":"compass-needle"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}reset(){return this.viewModel.reset()}render(){const{orientation:t,state:e}=this.viewModel,{messages:i}=this;return n("div",{class:this.classes(u.base,p.widget)},n("calcite-button",{class:p.widgetButton,disabled:e==="disabled",kind:"neutral",label:i.reset,onclick:this._reset,round:!0,scale:"s",title:i.reset},n("div",{"aria-hidden":"true",class:u.iconContainer,title:i.reset},n("calcite-icon",{icon:this.icon,styles:this._toRotationTransform(t)}))))}};o([s()],a.prototype,"goToOverride",null),o([s()],a.prototype,"icon",null),o([s()],a.prototype,"label",null),o([s(),y("esri/widgets/Compass/t9n/Compass")],a.prototype,"messages",void 0),o([s()],a.prototype,"view",null),o([s({type:w})],a.prototype,"viewModel",void 0),a=o([v("esri.widgets.Compass")],a);const z=a;export{z as default};

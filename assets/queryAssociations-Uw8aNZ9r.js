import{ac as p,ad as l,ag as y,al as d,U as f,id as g,n as v}from"./index-DX0rcHuW.js";import{i as w}from"./UtilityNetwork-NjDvAhhO.js";import{f as $,s as j,i as S}from"./utils-nzDIu46v.js";import{d as I}from"./Association-DPDR3pVt.js";import"./FeatureLayer-Bb5mf85J.js";import"./FeatureLayerBase-uK0oK06Z.js";import"./inputs-Due4QVtL.js";import"./formUtils-Dni92j4V.js";import"./HeightModelInfo-DaJXTLDg.js";import"./arcgisLayerUrl-BpJodxxk.js";import"./LayerFloorInfo-D-bXPB8b.js";import"./Relationship-Clp_49iY.js";import"./serviceCapabilitiesUtils-CIgEASrL.js";import"./editsZScale-BDLbHb5e.js";import"./queryZScale-B1r3mH-Y.js";import"./APIKeyMixin-DSbft86T.js";import"./ArcGISService-CVVnFG2B.js";import"./EditBusLayer-Brt5ASt_.js";import"./uuid-fwrPAdZb.js";import"./FeatureType-Bb4KOLCq.js";import"./versionUtils-DlHqsQBg.js";import"./styleUtils-CxRaW7Jr.js";import"./TopFeaturesQuery-B-wHLSqs.js";import"./interfaces-CL2NbQte.js";let s=class extends d{constructor(o){super(o),this.associations=[]}};p([l({type:[I],json:{write:!0}})],s.prototype,"associations",void 0),s=p([y("esri.rest.networks.support.QueryAssociationsResult")],s);const J=s;function O(e){const{returnDeletes:o,elements:i,gdbVersion:r,moment:n}=e.toJSON();return{returnDeletes:o,elements:JSON.stringify(i.map(t=>({globalId:t.globalId,networkSourceId:t.networkSourceId,terminalId:t.terminalId}))),types:JSON.stringify(e.types.map(t=>w.toJSON(t))).replaceAll('"connectivity"','"junctionJunctionConnectivity"'),gdbVersion:r,moment:n}}async function X(e,o,i){const r=$(e),n={...O(o),f:"json"},t=j({...r.query,...n}),a=S(t,{...i,method:"post"}),m=`${r.path}/associations/query`,{data:c}=await f(m,a),u=J.fromJSON(c);return o.types.includes("connectivity")&&g(v.getLogger("esri/rest/networks/support/QueryAssociationsParameters"),"types",{replacement:"Please use 'junction-junction-connectivity' instead of 'connectivity'.",see:"https://developers.arcgis.com/javascript/latest/api-reference/esri-rest-networks-support-QueryAssociationsParameters.html#types",version:"4.29",warnOnce:!0}),u}export{X as queryAssociations};

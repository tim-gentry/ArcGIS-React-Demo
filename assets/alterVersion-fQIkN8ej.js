import{s as n,U as u}from"./index-DX0rcHuW.js";import{f as g,i as v,s as w}from"./utils-nzDIu46v.js";import{r as m}from"./serverVersionUtils-By8Hm7KS.js";const i=new Map;async function $(e,r,a,c){i.has(e)||await m(i,e);const s=i.get(e);if(((s==null?void 0:s.serverVersion)??0)<=11.1)throw new n("alterVersion:enterprise-version","versioning API requires ArcGIS Enterprise version 11.2 or higher");if(!r)throw new n("alterVersion:missing-guid","guid for version is missing");const o=g(e),h=a.toJSON(),f=v(o.query,{query:w({...h,f:"json"}),...c,authMode:"immediate",method:"post"});r.startsWith("{")&&(r=r.slice(1,-1));const p=`${o.path}/versions/${r}/alter`,{data:t}=await u(p,f);return!!t&&t.success}export{$ as alterVersion,i as serverVersionCacheMap};

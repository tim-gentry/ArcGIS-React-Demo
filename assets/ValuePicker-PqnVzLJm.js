const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/calcite-combobox-CFk50a9E.js","assets/combobox-71NFiN9k.js","assets/jsxFactory-DmHi7Kb2.js","assets/index-DX0rcHuW.js","assets/index-B2yzeq1w.css","assets/uuid-fwrPAdZb.js","assets/core-2D-WamSI.js","assets/filter-BHzLPuAd.js","assets/debounce-C5YDvsuO.js","assets/dom-Dv5tDaqe.js","assets/floating-ui-CVXgJmXk.js","assets/form-DT0Txu1X.js","assets/interactive-CM5F_5Ay.js","assets/label-CcvHzygA.js","assets/component-ByvC-PUv.js","assets/loadable-BpL5xwNx.js","assets/locale-jvDArz_C.js","assets/key-D5DPfjW0.js","assets/observers-CLdbMMrh.js","assets/openCloseComponent-BcNBZQe2.js","assets/t9n-Bv5oqD69.js","assets/Validation-BmSC9xQN.js","assets/utils2-C9ILKKiq.js","assets/chip-Dw2wHkeW.js","assets/icon-CWAu07D3.js","assets/combobox-item-COrIQXYO.js","assets/conditionalSlot-CqkDrxC7.js","assets/input-message-D42H2lMx.js","assets/calcite-combobox-item-CebKWX2e.js","assets/calcite-tooltip-CXmK6QYS.js","assets/FloatingArrow-Cy8j4zsH.js","assets/calcite-action-BQdWHUTy.js","assets/action-BdLH7y4R.js","assets/loader-CQvnYTBN.js","assets/calcite-action-bar-Bxaln6bl.js","assets/ExpandToggle-Dotf6BRD.js","assets/action-group-DTA_uOXw.js","assets/action-menu-D84YVNtM.js","assets/array-DofFqflK.js","assets/popover-Zk0D1hdH.js","assets/focusTrapComponent-CklV4nIL.js","assets/Heading-DiaW_And.js"])))=>i.map(i=>d[i]);
import{ac as i,ad as o,ag as v,V as se,_ as $,bh as U,eG as le,bY as J,fa as oe,b5 as ne,g2 as ae,ap as re,n as ue,b_ as B}from"./index-DX0rcHuW.js";import{B as W,n as r,r as D,e as K}from"./jsxFactory-DmHi7Kb2.js";import{e as pe}from"./globalCss-CZa70j6i.js";import{e as ce}from"./vmEvent-D4Ubqkbq.js";import{A as de}from"./Slider-CpGCtdCj.js";import"./uuid-fwrPAdZb.js";import"./substitute-e0S7rtIE.js";let k=class extends W{constructor(t,s){super(t,s),this.type=null,this.viewModel=null}};i([o()],k.prototype,"type",void 0),i([o()],k.prototype,"viewModel",void 0),k=i([v("esri.widgets.ValuePicker.ValuePickerBaseComponent")],k);const V=k;let y=class extends V{constructor(t,s){super(t,s),this.collection=null,this.type="collection"}get canNext(){var t,s;return!(!((t=this.collection)!=null&&t.length)||!this.viewModel)&&this.collection.at(-1)!==((s=this.viewModel.values)==null?void 0:s[0])}get canPlay(){var t;return this.viewModel!=null&&!!((t=this.collection)!=null&&t.length)}get canPrevious(){var t,s;return!(!((t=this.collection)!=null&&t.length)||!this.viewModel)&&this.collection.at(0)!==((s=this.viewModel.values)==null?void 0:s[0])}render(){return r("div",null)}animate(t){this._step(1,t)}next(){this._step(1)}previous(){this._step(-1)}_step(t,s=!1){var n;if(!this.viewModel||!((n=this.collection)!=null&&n.length))return;if(!this.viewModel.values)return void(this.viewModel.values=[this.collection.at(0)]);if(!this.collection.includes(this.viewModel.values[0]))return void(this.viewModel.values=[this.collection.at(0)]);const l=this.collection.indexOf(this.viewModel.values[0])+t;l<0||l>=this.collection.length?this.viewModel.loop||s?this.viewModel.values=[this.collection.at(t===1?0:-1)]:this.viewModel.state==="playing"&&this.viewModel.pause():this.viewModel.values=[this.collection.at(l)]}};i([o()],y.prototype,"canNext",null),i([o()],y.prototype,"canPlay",null),i([o()],y.prototype,"canPrevious",null),i([o({type:se})],y.prototype,"collection",void 0),i([o()],y.prototype,"type",void 0),y=i([v("esri.widgets.ValuePicker.ValuePickerCollection")],y);const he=y,ve="esri-value-picker__combobox";let h=class extends V{constructor(t,s){super(t,s),this.items=null,this.placeholder=null,this.type="combobox"}loadDependencies(){return D({combobox:()=>$(()=>import("./calcite-combobox-CFk50a9E.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27])),"combobox-item":()=>$(()=>import("./calcite-combobox-item-CebKWX2e.js"),__vite__mapDeps([28,25,2,3,4,5,26,18,9,12,22,14,24]))})}get canNext(){return!(!this.items||!this.viewModel)&&this.items.findIndex(({value:t})=>{var s;return t===((s=this.viewModel.values)==null?void 0:s[0])})!==this.items.length-1}get canPlay(){var t;return this.viewModel!=null&&!!((t=this.items)!=null&&t.length)}get canPrevious(){const{items:t,viewModel:s}=this;return!(!t||!s)&&t.findIndex(({value:l})=>{var n;return l===((n=s.values)==null?void 0:n[0])})!==0}render(){var l,n;const{viewModel:t}=this;if(t==null)return r("div",null);const s=(l=t.values)==null?void 0:l[0];return r("div",{class:ve},r("calcite-combobox",{disabled:t.disabled,label:this.label,maxItems:10,overlayPositioning:"fixed",placeholder:this.placeholder??void 0,selectionMode:"single",onCalciteComboboxChange:a=>{Array.isArray(a.target.value)||(t.values!=null?t.values[0]!==a.target.value&&(t.values=[a.target.value]):t.values=[a.target.value])}},(n=this.items)==null?void 0:n.map(({value:a,label:u},g)=>r("calcite-combobox-item",{key:g,selected:a===s,textLabel:u,value:a}))))}animate(t){this._step(1,t)}next(){this._step(1)}previous(){this._step(-1)}_step(t,s=!1){const{viewModel:l,items:n}=this;if(!(n!=null&&n.length)||!l)return;if(!l.values)return void(l.values=[n[0].value]);const a=n.findIndex(({value:g})=>g===l.values[0]);if(a===-1)return void(l.values=[n[0].value]);const u=a+t;u<0||u>=n.length?l.loop||s?l.values=[n[t===1?0:n.length-1].value]:l.state==="playing"&&l.pause():l.values=[n[u].value]}};i([o()],h.prototype,"canNext",null),i([o()],h.prototype,"canPlay",null),i([o()],h.prototype,"canPrevious",null),i([o()],h.prototype,"items",void 0),i([o()],h.prototype,"placeholder",void 0),i([o()],h.prototype,"type",void 0),h=i([v("esri.widgets.ValuePicker.ValuePickerCombobox")],h);const me=h,A="esri-value-picker__label",Q={border:`${A}-border`,text:`${A}-text`};let _=class extends V{constructor(e,t){super(e,t),this.items=null,this.type="label"}get canNext(){return!(!this.items||!this.viewModel)&&this.items.findIndex(({value:e})=>{var t;return e===((t=this.viewModel.values)==null?void 0:t[0])})!==this.items.length-1}get canPlay(){var e;return this.viewModel!=null&&!!((e=this.items)!=null&&e.length)}get canPrevious(){const{items:e,viewModel:t}=this;return!(!e||!t)&&e.findIndex(({value:s})=>{var l;return s===((l=t.values)==null?void 0:l[0])})!==0}render(){var s;const{viewModel:e}=this;if(e==null)return r("div",null);const t=(s=this.items)==null?void 0:s.find(({value:l})=>{var n;return l===((n=e.values)==null?void 0:n[0])});return r("div",{class:A},r("div",{class:Q.border},r("div",{class:Q.text},t==null?void 0:t.label)))}animate(e){this._step(1,e)}next(){this._step(1)}previous(){this._step(-1)}_step(e,t=!1){const{viewModel:s,items:l}=this;if(!(l!=null&&l.length)||!s)return;if(!s.values)return void(s.values=[l[0].value]);const n=l.findIndex(({value:u})=>u===s.values[0]);if(n===-1)return void(s.values=[l[0].value]);const a=n+e;a<0||a>=l.length?s.loop||t?s.values=[l[e===1?0:l.length-1].value]:s.state==="playing"&&s.pause():s.values=[l[a].value]}};i([o()],_.prototype,"canNext",null),i([o()],_.prototype,"canPlay",null),i([o()],_.prototype,"canPrevious",null),i([o()],_.prototype,"items",void 0),i([o()],_.prototype,"type",void 0),_=i([v("esri.widgets.ValuePicker.ValuePickerLabel")],_);const ye=_;let P=class extends U{constructor(e){super(e),this.steps=!1,this.thumbTooltip=!1}};i([o({nonNullable:!0})],P.prototype,"steps",void 0),i([o({nonNullable:!0})],P.prototype,"thumbTooltip",void 0),P=i([v("esri.widgets.ValuePicker.ValuePickerSliderVisibleElements")],P);const X=P,f="esri-value-picker__slider",C={minorTick:`${f}__tick-minor`,majorTick:`${f}__tick-major`,stepsTick:`${f}__tick-steps`,tooltip:`${f}__tooltip`};function I(e){return(t,s)=>{s==null||s.classList.add(e)}}let c=class extends V{constructor(e,t){super(e,t),this._majorTickCreatedFunction=I(C.majorTick),this._minorTickCreatedFunction=I(C.minorTick),this._stepsTickCreatedFunction=I(C.stepsTick),this._thumbNode=null,this._tooltip=null,this._slider=new de({thumbCreatedFunction:(s,l,n)=>{this._thumbNode=n}}),this.labelFormatFunction=null,this.labels=null,this.min=null,this.minorTicks=null,this.majorTicks=null,this.max=null,this.reversed=!1,this.steps=null,this.type="slider",this.visibleElements=new X,this._thumbDragDebounced=le(async s=>{var l;await((l=this._tooltip)==null?void 0:l.reposition(!1))})}initialize(){this.addHandles([J(()=>{var e;return(e=this.viewModel)==null?void 0:e.values},e=>{this._slider.values=e},oe),J(()=>this._slider.values,e=>{this.viewModel&&this.viewModel.values!==e&&(this.viewModel.values=e)}),this._slider.on("thumb-drag",this._thumbDragDebounced)])}destroy(){this._slider.destroy()}loadDependencies(){return D({tooltip:()=>$(()=>import("./calcite-tooltip-CXmK6QYS.js"),__vite__mapDeps([29,2,3,4,5,9,10,8,19,30]))})}get _ascending(){const{reversed:e,viewModel:t}=this;if(!t)return null;const{layout:s}=t;return s==="horizontal"&&!e||s==="vertical"&&e}get canNext(){const{_ascending:e,min:t,max:s,steps:l,viewModel:n}=this;if(e==null||t==null||s==null||!(l!=null&&l.length)||!n)return!1;const{values:a}=n,u=a==null?void 0:a[0];return u==null||(e?u!==l[l.length-1]:u!==l[0])}get canPlay(){var e;return this.viewModel!=null&&!!((e=this.steps)!=null&&e.length)&&this.min!=null&&this.max!=null}get canPrevious(){const{_ascending:e,min:t,max:s,steps:l,viewModel:n}=this;if(e==null||t==null||s==null||!(l!=null&&l.length)||!n)return!1;const{values:a}=n,u=a==null?void 0:a[0];return u==null||(e?u!==l[0]:u!==l[l.length-1])}render(){const{labels:e,labelFormatFunction:t,min:s,max:l,steps:n,minorTicks:a,majorTicks:u,reversed:g,viewModel:T}=this;if(!T)return r("div",null);const{disabled:N,layout:E}=T,F=`${E}${g?"-reversed":""}`,w="position",m=[];return s!=null&&l!=null&&(a&&m.push({mode:w,values:a,tickCreatedFunction:this._minorTickCreatedFunction}),u&&m.push({mode:w,values:u,tickCreatedFunction:this._majorTickCreatedFunction}),e&&m.push({mode:w,values:e,labelsVisible:!0}),this.visibleElements.steps&&this.steps&&m.push({mode:w,values:this.steps,tickCreatedFunction:this._stepsTickCreatedFunction})),this._slider.set({disabled:N,labelFormatFunction:t,layout:F,min:s,max:l,steps:n,tickConfigs:m}),r("div",{class:f},this._slider.render(),this._renderToolTip())}animate(e){this._step(1,e)}next(){this._step(this._ascending?1:-1)}previous(){this._step(this._ascending?-1:1)}_onTooltipAfterCreate(e){this._tooltip=e}_renderToolTip(){if(!this.visibleElements.thumbTooltip||!this._thumbNode||!this._slider.values)return null;const e=this._slider.viewModel.getLabelForValue(this._slider.values[0],"value");return e?r("calcite-tooltip",{afterCreate:this._onTooltipAfterCreate,class:C.tooltip,referenceElement:this._thumbNode},e):null}_step(e,t=!1){var l;if(!this.viewModel||!((l=this.steps)!=null&&l.length))return;if(!this.viewModel.values||!this.steps.includes(this.viewModel.values[0]))return void(this.viewModel.values=[this.steps[0]]);const s=this.steps.indexOf(this.viewModel.values[0])+e;s<0||s>=this.steps.length?this.viewModel.loop||t?this.viewModel.values=[this.steps[e===1?0:this.steps.length-1]]:this.viewModel.state==="playing"&&this.viewModel.pause():this.viewModel.values=[this.steps[s]]}};i([o()],c.prototype,"_ascending",null),i([o()],c.prototype,"canNext",null),i([o()],c.prototype,"canPlay",null),i([o()],c.prototype,"canPrevious",null),i([o()],c.prototype,"labelFormatFunction",void 0),i([o()],c.prototype,"labels",void 0),i([o()],c.prototype,"min",void 0),i([o()],c.prototype,"minorTicks",void 0),i([o()],c.prototype,"majorTicks",void 0),i([o()],c.prototype,"max",void 0),i([o({nonNullable:!0})],c.prototype,"reversed",void 0),i([o()],c.prototype,"steps",void 0),i([o()],c.prototype,"type",void 0),i([o({type:X,nonNullable:!0})],c.prototype,"visibleElements",void 0),c=i([v("esri.widgets.ValuePicker.ValuePickerSlider")],c);const _e=c,be={first:!0},ge={first:!1};let d=class extends ne.EventedAccessor{constructor(t){super(t),this._animationController=null,this.disabled=!1,this.layout="horizontal",this.loop=!1,this.playRate=1e3,this.values=null}destroy(){this._pause()}get state(){return this._animationController?"playing":"ready"}next(){this.emit("next")}pause(){this.emit("pause"),this._pause()}play(){this.emit("play"),this._play()}previous(){this.emit("previous")}_pause(){var t;(t=this._animationController)==null||t.abort(),this._animationController=null}_play(){this._pause(),this._animationController=new AbortController,this._animate(be)}async _animate(t){if(this.emit("animate",t),this._animationController){try{await ae(this.playRate,null,this._animationController.signal)}catch(s){return re(s)||ue.getLogger(this).error(s),void this._pause()}this._animate(ge)}}};i([o()],d.prototype,"_animationController",void 0),i([o({nonNullable:!0})],d.prototype,"disabled",void 0),i([o({nonNullable:!0})],d.prototype,"layout",void 0),i([o({nonNullable:!0})],d.prototype,"loop",void 0),i([o({nonNullable:!0})],d.prototype,"playRate",void 0),i([o({readOnly:!0})],d.prototype,"state",null),i([o()],d.prototype,"values",void 0),i([o()],d.prototype,"next",null),i([o()],d.prototype,"pause",null),i([o()],d.prototype,"play",null),i([o()],d.prototype,"previous",null),d=i([v("esri.widgets.ValuePicker.ValuePickerViewModel")],d);const we=d;let x=class extends U{constructor(e){super(e),this.nextButton=!0,this.playButton=!0,this.previousButton=!0}};i([o({nonNullable:!0})],x.prototype,"nextButton",void 0),i([o({nonNullable:!0})],x.prototype,"playButton",void 0),i([o({nonNullable:!0})],x.prototype,"previousButton",void 0),x=i([v("esri.widgets.ValuePicker.ValuePickerVisibleElements")],x);const Z=x,b="esri-value-picker",M={actionBar:`${b}__action-bar`,caption:`${b}__caption`,captionBorder:`${b}__caption-border`,captionText:`${b}__caption-text`,separator:`${b}__separator`},xe={base:null,key:"type",typeMap:{collection:he,combobox:me,label:ye,slider:_e}};let p=class extends W{constructor(e,t){super(e,t),this.caption=null,this.messages=null,this.messagesCommon=null,this.viewModel=new we,this.visibleElements=new Z}initialize(){this.addHandles([B(()=>this.viewModel,"animate",({first:e})=>{var t;(t=this.component)==null||t.animate(e)}),B(()=>this.viewModel,"next",()=>{var e;(e=this.component)==null||e.next()}),B(()=>this.viewModel,"previous",()=>{var e;(e=this.component)==null||e.previous()})])}loadDependencies(){return D({action:()=>$(()=>import("./calcite-action-BQdWHUTy.js"),__vite__mapDeps([31,32,2,3,4,5,9,12,15,16,17,18,14,20,24,33])),"action-bar":()=>$(()=>import("./calcite-action-bar-Bxaln6bl.js"),__vite__mapDeps([34,2,3,4,5,26,18,9,15,16,17,20,35,36,37,38,32,12,14,24,33,39,10,8,40,19,41,30]))})}get canNext(){var e;return((e=this.component)==null?void 0:e.canNext)??!0}get canPlay(){var e;return((e=this.component)==null?void 0:e.canPlay)??!0}get canPrevious(){var e;return((e=this.component)==null?void 0:e.canPrevious)??!0}set component(e){e&&(e.viewModel??(e.viewModel=this.viewModel)),this._set("component",e)}get disabled(){return this.viewModel.disabled}set disabled(e){this.viewModel.disabled=e}get icon(){return"list-rectangle"}set icon(e){this._overrideIfSome("icon",e)}get label(){var e;return((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}get layout(){return this.viewModel.layout}set layout(e){this.viewModel.layout=e}get loop(){return this.viewModel.loop}set loop(e){this.viewModel.loop=e}get playRate(){return this.viewModel.playRate}set playRate(e){this.viewModel.playRate=e}get values(){return this.viewModel.values}set values(e){this.viewModel.values=e}next(){this.viewModel.next()}pause(){this.viewModel.pause()}play(){this.viewModel.play()}previous(){this.viewModel.previous()}render(){var S,H,G,Y,q;const{disabled:e,state:t}=this.viewModel,s=t==="playing",l=this.layout==="horizontal",{control:n,pagination:a}=this.messagesCommon,{pause:u,play:g}=n,{previous:T,up:N,next:E,down:F}=a,w=s?u:g,m=this.visibleElements.playButton&&r("calcite-action",{active:s,alignment:"center",bind:this,disabled:e||!this.canPlay,icon:s?"pause":"play",key:"play",onclick:s?this.pause:this.play,text:w,title:w}),R=l?T:N,L=this.visibleElements.previousButton&&r("calcite-action",{alignment:"center",bind:this,disabled:e||s||!this.canPrevious,icon:l?"chevron-left":"chevron-up",key:"previous",onclick:this.previous,text:R,title:R}),j=l?E:F,O=this.visibleElements.nextButton&&r("calcite-action",{alignment:"center",bind:this,disabled:e||s||!this.canNext,icon:l?"chevron-right":"chevron-down",key:"next",onclick:this.next,text:j,title:j}),z=this.caption&&r("div",{class:M.caption},r("div",{class:M.captionBorder},r("div",{class:M.captionText},this.caption))),ee=((S=this.component)==null?void 0:S.type)==="combobox"||((H=this.component)==null?void 0:H.type)==="label"||((G=this.component)==null?void 0:G.type)==="slider",te=(m||L||O)&&(z||ee)&&r("div",{class:M.separator}),ie=(Y=this.component)==null?void 0:Y.render();return r("div",{"aria-label":this.label,class:this.classes(b,pe.widget,`${b}__layout--${this.layout}`,`${b}__type--${(q=this.component)==null?void 0:q.type}`)},r("calcite-action-bar",{class:M.actionBar,expandDisabled:!0,layout:this.layout},[m,L,O,te,z,ie]))}};i([o()],p.prototype,"canNext",null),i([o()],p.prototype,"canPlay",null),i([o()],p.prototype,"canPrevious",null),i([o()],p.prototype,"caption",void 0),i([o({types:xe,value:null})],p.prototype,"component",null),i([o()],p.prototype,"disabled",null),i([o()],p.prototype,"icon",null),i([o()],p.prototype,"label",null),i([o()],p.prototype,"layout",null),i([o()],p.prototype,"loop",null),i([o(),K("esri/widgets/ValuePicker/t9n/ValuePicker")],p.prototype,"messages",void 0),i([o(),K("esri/t9n/common")],p.prototype,"messagesCommon",void 0),i([o()],p.prototype,"playRate",null),i([o()],p.prototype,"values",null),i([o(),ce(["animate","next","pause","play","previous"])],p.prototype,"viewModel",void 0),i([o({type:Z,nonNullable:!0})],p.prototype,"visibleElements",void 0),p=i([v("esri.widgets.ValuePicker")],p);const Be=p;export{Be as default};

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/calcite-dropdown-CMVg7z72.js","assets/jsxFactory-DmHi7Kb2.js","assets/index-DX0rcHuW.js","assets/index-B2yzeq1w.css","assets/uuid-fwrPAdZb.js","assets/dom-Dv5tDaqe.js","assets/floating-ui-CVXgJmXk.js","assets/debounce-C5YDvsuO.js","assets/interactive-CM5F_5Ay.js","assets/key-D5DPfjW0.js","assets/loadable-BpL5xwNx.js","assets/observers-CLdbMMrh.js","assets/openCloseComponent-BcNBZQe2.js","assets/calcite-dropdown-group-BLFzdlHC.js","assets/resources3-B__tPmNQ.js","assets/calcite-dropdown-item-BBSMiy9e.js","assets/component-ByvC-PUv.js","assets/icon-CWAu07D3.js","assets/calcite-input-UxOKjIHa.js","assets/input2-Dot_SaOW.js","assets/form-DT0Txu1X.js","assets/label-CcvHzygA.js","assets/locale-jvDArz_C.js","assets/t9n-Bv5oqD69.js","assets/Validation-BmSC9xQN.js","assets/input-Dt5r39B0.js","assets/input-message-D42H2lMx.js","assets/progress-Cn98mWq-.js","assets/calcite-input-number-CJjaZ08i.js","assets/input-number-C9dNUp9Q.js","assets/calcite-label-75nr6He8.js","assets/calcite-switch-CWeNlSSv.js","assets/switch-DGXW061d.js","assets/calcite-action-BQdWHUTy.js","assets/action-BdLH7y4R.js","assets/loader-CQvnYTBN.js","assets/calcite-block-qdFeD75E.js","assets/conditionalSlot-CqkDrxC7.js","assets/Heading-DiaW_And.js","assets/action-menu-D84YVNtM.js","assets/array-DofFqflK.js","assets/popover-Zk0D1hdH.js","assets/focusTrapComponent-CklV4nIL.js","assets/FloatingArrow-Cy8j4zsH.js","assets/handle-BKDOnSwp.js","assets/scrim-CLRFMMcr.js","assets/calcite-block-section-CgMu0zRh.js","assets/calcite-icon-W-AdNGRC.js","assets/calcite-notice-DA7FQ9_1.js","assets/calcite-panel-DcFdTOap.js","assets/panel-DPpK0hDp.js","assets/calcite-slider-C3q287pg.js","assets/math-DqfKmoY3.js","assets/calcite-tooltip-CXmK6QYS.js"])))=>i.map(i=>d[i]);
import{ac as e,ad as o,ag as L,bh as $,eD as k,_ as m,cC as U,du as M,kQ as b,V as B,bY as g,n as I,s as N,ib as H,d as T,ic as W}from"./index-DX0rcHuW.js";import{e as f,B as G,n as s,r as D}from"./jsxFactory-DmHi7Kb2.js";import{h as F}from"./UpdatingHandles-CERUeL1P.js";import z from"./GraphicsLayer-SBXo_p0G.js";import{e as P}from"./layerUtils-BS1Di3Pm.js";import"./uuid-fwrPAdZb.js";import"./GraphicsCollection-BjA_qBYu.js";let _=class extends ${constructor(t){super(t),this.arrowsToggle=!1,this.capSelect=!1,this.colorPicker=!0,this.stylePicker=!0,this.widthInput=!0}};e([o({type:Boolean,nonNullable:!0})],_.prototype,"arrowsToggle",void 0),e([o({type:Boolean,nonNullable:!0})],_.prototype,"capSelect",void 0),e([o({type:Boolean,nonNullable:!0})],_.prototype,"colorPicker",void 0),e([o({type:Boolean,nonNullable:!0})],_.prototype,"stylePicker",void 0),e([o({type:Boolean,nonNullable:!0})],_.prototype,"widthInput",void 0),_=e([L("esri.widgets.UtilityNetworkAssociations.VisibleElementsSettingsPane")],_);const E=_,p="esri-un-associations",v={divControlsSymbolPicker:`${p}__div-controls-symbol-picker`,dropdown:`${p}__dropdown`,dropdownItemLineCap:`${p}__dropdown-item-line-cap`,dropdownItemLinePattern:`${p}__dropdown-item-line-pattern`,dropdownSelectedItemLineCap:`${p}__dropdown-selected-item-line-cap`,dropdownSelectedItemLinePattern:`${p}__dropdown-selected-item-line-pattern`,dropdownTrigger:`${p}__dropdown-trigger`,labelAndToggle:`${p}__label-and-toggle`};let S=class extends G{constructor(i,n){super(i,n),this._lineCapTypes=["butt","round","square"],this._lineStyleTypes=["solid","dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","short-dash","short-dash-dot","short-dash-dot-dot","short-dot"],this.lineSymbol=new k,this.messages=null,this.showArrows=!1,this.visibleElements=new E,this._afterComponentCreate=this._afterComponentCreate.bind(this)}render(){const{messages:{input:{lineCap:i,lineColor:n,lineStyle:r,lineWidth:l,showArrows:a}},visibleElements:d}=this,A=this.lineSymbol;return s("div",{class:v.divControlsSymbolPicker},d.arrowsToggle?this._renderToggle(a,this.showArrows,A,"marker"):void 0,d.capSelect?this._renderLineStylePicker(i,this._lineCapTypes,A,"cap"):void 0,d.colorPicker&&A.color?this._renderColorPicker(n,A.color.toHex(),A,"color"):void 0,d.stylePicker?this._renderLineStylePicker(r,this._lineStyleTypes,A,"style"):void 0,d.widthInput?this._renderNumberInput(l,A.width.toString(),A,"width"):void 0)}loadDependencies(){return D({dropdown:()=>m(()=>import("./calcite-dropdown-CMVg7z72.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12])),"dropdown-group":()=>m(()=>import("./calcite-dropdown-group-BLFzdlHC.js"),__vite__mapDeps([13,1,2,3,4,11,14])),"dropdown-item":()=>m(()=>import("./calcite-dropdown-item-BBSMiy9e.js"),__vite__mapDeps([15,1,2,3,4,5,10,16,8,14,17,11])),input:()=>m(()=>import("./calcite-input-UxOKjIHa.js"),__vite__mapDeps([18,19,1,2,3,4,5,20,8,9,21,16,10,22,11,23,24,25,17,26,27])),"input-number":()=>m(()=>import("./calcite-input-number-CJjaZ08i.js"),__vite__mapDeps([28,29,1,2,3,4,5,20,8,9,21,16,10,22,11,23,24,25,17,26,27])),label:()=>m(()=>import("./calcite-label-75nr6He8.js"),__vite__mapDeps([30,1,2,3,4,21,5,16])),switch:()=>m(()=>import("./calcite-switch-CWeNlSSv.js"),__vite__mapDeps([31,32,1,2,3,4,5,20,8,9,21,16,10]))})}_afterComponentCreate(i){"value"in i&&i.value!=null&&"setNumberValue"in i&&i.setNumberValue({committing:!1,value:i.value,origin:"direct"})}_renderColorPicker(i,n,r,l){return s("calcite-label",{scale:"s"},i,s("calcite-input",{scale:"s",type:"color",value:n,onCalciteInputInput:a=>{const d=a.target;r.set(l,new U(d.value))}}))}_renderLineStylePicker(i,n,r,l){const a=l==="style",d="esri/widgets/UtilityNetworkAssociations/assets/img";function A(w,x){return s("calcite-dropdown-item",{label:w,selected:r[x]===w},s("div",{class:a?v.dropdownItemLinePattern:v.dropdownItemLineCap,style:`background-image:url(${M(`${d}/line-${a?"patterns":"caps"}/${w}.png`)})`}))}return s("calcite-label",{scale:"s"},i,s("calcite-dropdown",{class:v.dropdown,onCalciteDropdownSelect:w=>{const x=w.target;r.set(l,x.selectedItems[0].label)}},s("div",{class:v.dropdownTrigger,role:"button",slot:"trigger"},s("div",{class:a?v.dropdownSelectedItemLinePattern:v.dropdownSelectedItemLineCap,style:`background-image:url(${M(`${d}/line-${a?"patterns":"caps"}/${r[l]}.png`)})`})),s("calcite-dropdown-group",null,n.map(w=>A(w,l)))))}_renderNumberInput(i,n,r,l){return s("calcite-label",{scale:"s"},i,s("calcite-input-number",{afterCreate:this._afterComponentCreate,max:10,min:1,scale:"s",step:1,type:"number",value:n,onCalciteInputNumberChange:a=>{const d=a.target;r.set(l,d.value)}}))}_renderToggle(i,n,r,l){return s("div",{class:v.labelAndToggle},s("calcite-label",{scale:"s"},i),s("calcite-switch",{bind:this,checked:n,onCalciteSwitchChange:a=>{a.target.checked?r.set(l,new b({style:"arrow"})):r.set(l,null)}}))}};e([o()],S.prototype,"lineSymbol",void 0),e([o(),f("esri/widgets/UtilityNetworkAssociations/t9n/UtilityNetworkAssociations")],S.prototype,"messages",void 0),e([o()],S.prototype,"showArrows",void 0),e([o({type:E,nonNullable:!0})],S.prototype,"visibleElements",void 0),S=e([L("esri.widgets.UtilityNetworkAssociations.UtilityNetworkAssociationsLineSymbolPicker")],S);const R=S;let u=class extends ${constructor(t){super(t),this._internalGraphicsLayerConnectivity=this._createInternalGraphicsLayer("Connectivity Associations (Internal)"),this._internalGraphicsLayerStructuralAttachment=this._createInternalGraphicsLayer("Structural Attachment Associations (Internal)"),this._initialValidationsFinished=!1,this._updatingHandles=new F,this.autoRefreshAssociations=!1,this.connectivityAssociationsLineSymbol=new k({style:"short-dash",width:2,color:[190,159,159,1]}),this.executionError="",this.loadErrors=new B,this.maxAllowableAssociations=250,this.showAssociationsEnabled=!1,this.showArrowsConnectivity=!1,this.showArrowsStructuralAttachment=!1,this.structuralAttachmentAssociationsLineSymbol=new k({style:"short-dash",width:2,color:[159,190,159,1]})}initialize(){const t=async()=>{this.messages||(this.messages=await W("esri/widgets/UtilityNetworkAssociations/t9n/UtilityNetworkAssociations"))};t().then(()=>{this.view||(this.view=null),this.utilityNetwork||(this.utilityNetwork=null),this.addHandles([g(()=>[this.view,this.utilityNetwork],async()=>{var d,A;const{loadErrors:i,messages:{info:{noUtilityNetwork:n,noView:r}}}=this;this._initialValidationsFinished=!1,i.removeAll();let l=!1,a=!1;this.removeAssociations(),((d=this.utilityNetwork)==null?void 0:d.type)!=="utility"?(this.loadErrors.push(n),I.getLogger(this).error(new N("utilityNetworkAssociations:missing-property",n))):(this.utilityNetwork.loaded||await this.utilityNetwork.load(),l=!0),((A=this.view)==null?void 0:A.type)!=="2d"?(this.loadErrors.push(r),I.getLogger(this).error(new N("utilityNetworkAssociations:missing-property",r))):(P(this.view,this._internalGraphicsLayerConnectivity),P(this.view,this._internalGraphicsLayerStructuralAttachment),a=!0),l&&a&&this.showAssociationsEnabled&&await this.showAssociations(),this._internalGraphicsLayerConnectivity.visible=this.includeConnectivityAssociations,this._internalGraphicsLayerStructuralAttachment.visible=this.includeStructuralAttachmentAssociations,this._initialValidationsFinished=!0},{initial:!0}),g(()=>{var i;return[(i=this.view)==null?void 0:i.stationary,this.showAssociationsEnabled,this.maxAllowableAssociations]},async()=>{var i;(i=this.view)!=null&&i.stationary&&this.showAssociationsEnabled&&(this.includeConnectivityAssociations||this.includeStructuralAttachmentAssociations)&&await this.showAssociations()}),g(()=>[this.showArrowsConnectivity],()=>{const i=this.connectivityAssociationsLineSymbol.clone();i.marker=null,this.showArrowsConnectivity&&(i.marker=new b({color:this.connectivityAssociationsLineSymbol.color,placement:"end",style:"arrow"}));for(const n of this._internalGraphicsLayerConnectivity.graphics)n.symbol=i}),g(()=>[this.showArrowsStructuralAttachment],()=>{const i=this.structuralAttachmentAssociationsLineSymbol.clone();i.marker=null,this.showArrowsStructuralAttachment&&(i.marker=new b({color:this.structuralAttachmentAssociationsLineSymbol.color,placement:"end",style:"arrow"}));for(const n of this._internalGraphicsLayerStructuralAttachment.graphics)n.symbol=i}),g(()=>{const{cap:i,color:n,style:r,width:l,marker:a}=this.connectivityAssociationsLineSymbol;return[i,n,r,l,a]},()=>{const i=this.connectivityAssociationsLineSymbol.clone();for(const n of this._internalGraphicsLayerConnectivity.graphics)n.symbol=i;this.showArrowsConnectivity=!1,i.marker=null,this.connectivityAssociationsLineSymbol.marker&&(this.showArrowsConnectivity=!0,i.marker=new b({color:this.connectivityAssociationsLineSymbol.color,placement:"end",style:"arrow"}))}),g(()=>{const{cap:i,color:n,style:r,width:l,marker:a}=this.structuralAttachmentAssociationsLineSymbol;return[i,n,r,l,a]},()=>{const i=this.structuralAttachmentAssociationsLineSymbol.clone();for(const n of this._internalGraphicsLayerStructuralAttachment.graphics)n.symbol=i;this.showArrowsStructuralAttachment=!1,i.marker=null,this.structuralAttachmentAssociationsLineSymbol.marker&&(this.showArrowsStructuralAttachment=!0,i.marker=new b({color:this.structuralAttachmentAssociationsLineSymbol.color,placement:"end",style:"arrow"}))}),H(t)])})}destroy(){this._updatingHandles.destroy(),this.view=null,this._removeInternalGraphicsLayers()}set includeConnectivityAssociations(t){this._set("includeConnectivityAssociations",t),this._internalGraphicsLayerConnectivity.visible=t}set includeStructuralAttachmentAssociations(t){this._set("includeStructuralAttachmentAssociations",t),this._internalGraphicsLayerStructuralAttachment.visible=t}get state(){return this.loadErrors.length?"disabled":this._updatingHandles.updating?"executing":this.executionError!==""?"warning":this._initialValidationsFinished?"ready":"loading"}set utilityNetwork(t){this._get("utilityNetwork")!==t&&this._set("utilityNetwork",t)}set view(t){this._get("view")!==t&&this._set("view",t)}removeAssociations(){this._internalGraphicsLayerConnectivity.removeAll(),this._internalGraphicsLayerStructuralAttachment.removeAll()}async showAssociations(){var r,l;const{messages:{info:{maxAllowableAssociationsExceeded:t,noAssociationsFound:i}},utilityNetwork:n}=this;this._set("executionError",""),this._updatingHandles.addPromise(n==null?void 0:n.synthesizeAssociationGeometries({returnConnectivityAssociations:this.includeConnectivityAssociations,returnAttachmentAssociations:this.includeStructuralAttachmentAssociations,extent:(r=this.view)==null?void 0:r.extent,outSpatialReference:(l=this.utilityNetwork)==null?void 0:l.spatialReference.clone(),maxGeometryCount:this.maxAllowableAssociations}).then(a=>{let d=[],A=[];return a!=null&&a.maxGeometryCountExceeded?(this.removeAssociations(),void this._set("executionError",t)):(a==null?void 0:a.associations.length)===0?(this.removeAssociations(),void this._set("executionError",i)):void(a&&(d=a==null?void 0:a.associations.filter(({associationType:w})=>w==="connectivity").map(w=>(this.connectivityAssociationsLineSymbol.marker=null,this.showArrowsConnectivity&&(this.connectivityAssociationsLineSymbol.marker=new b({color:this.connectivityAssociationsLineSymbol.color,placement:"end",style:"arrow"})),new T({geometry:w.geometry.clone(),symbol:this.connectivityAssociationsLineSymbol}))),A=a.associations.filter(({associationType:w})=>w==="attachment").map(w=>(this.structuralAttachmentAssociationsLineSymbol.marker=null,this.showArrowsStructuralAttachment&&(this.structuralAttachmentAssociationsLineSymbol.marker=new b({color:this.structuralAttachmentAssociationsLineSymbol.color,placement:"end",style:"arrow"})),new T({geometry:w.geometry.clone(),symbol:this.structuralAttachmentAssociationsLineSymbol}))),this._internalGraphicsLayerConnectivity.removeAll(),d.length>0&&this._internalGraphicsLayerConnectivity.addMany(d),this._internalGraphicsLayerStructuralAttachment.removeAll(),A.length>0&&this._internalGraphicsLayerStructuralAttachment.addMany(A)))},({message:a})=>{this._set("executionError",a)}))}_createInternalGraphicsLayer(t){return new z({listMode:"hide",internal:!0,title:t})}_removeInternalGraphicsLayers(){var t;this._internalGraphicsLayerConnectivity&&this._internalGraphicsLayerStructuralAttachment&&((t=this.view)!=null&&t.map)&&(this.view.map.remove(this._internalGraphicsLayerConnectivity),this.view.map.remove(this._internalGraphicsLayerStructuralAttachment))}};e([o()],u.prototype,"_initialValidationsFinished",void 0),e([o()],u.prototype,"autoRefreshAssociations",void 0),e([o({type:k,nonNullable:!0})],u.prototype,"connectivityAssociationsLineSymbol",void 0),e([o({readOnly:!0})],u.prototype,"executionError",void 0),e([o({type:Boolean,value:!0})],u.prototype,"includeConnectivityAssociations",null),e([o({type:Boolean,value:!0})],u.prototype,"includeStructuralAttachmentAssociations",null),e([o()],u.prototype,"loadErrors",void 0),e([o()],u.prototype,"maxAllowableAssociations",void 0),e([o()],u.prototype,"messages",void 0),e([o()],u.prototype,"showAssociationsEnabled",void 0),e([o()],u.prototype,"showArrowsConnectivity",void 0),e([o()],u.prototype,"showArrowsStructuralAttachment",void 0),e([o({readOnly:!0})],u.prototype,"state",null),e([o({type:k,nonNullable:!0})],u.prototype,"structuralAttachmentAssociationsLineSymbol",void 0),e([o()],u.prototype,"utilityNetwork",null),e([o()],u.prototype,"view",null),u=e([L("esri.widgets.UtilityNetworkAssociations.UtilityNetworkAssociationsViewModel")],u);const V=u;let C=class extends ${constructor(t){super(t),this.maxAllowableAssociationsSlider=!1,this.connectivityAssociationsSettings=null,this.structuralAttachmentAssociationsSettings=null}};e([o({type:Boolean,nonNullable:!0})],C.prototype,"maxAllowableAssociationsSlider",void 0),e([o({type:E,nonNullable:!0})],C.prototype,"connectivityAssociationsSettings",void 0),e([o({type:E,nonNullable:!0})],C.prototype,"structuralAttachmentAssociationsSettings",void 0),C=e([L("esri.widgets.UtilityNetworkAssociations.VisibleElements")],C);const O=C,y="esri-un-associations",h={action:`${y}__action`,actionRefresh:`${y}__action-refresh`,blockContent:`${y}__block-content`,blockSectionSettings:`${y}__block-section-settings`,divControlsMain:`${y}__div-controls-main`,label:`${y}__label`,labelAndSlider:`${y}__label-and-slider`,labelAndToggle:`${y}__label-and-toggle`,slider:`${y}__slider`,statusIconContainer:`${y}__status-icon-container`,statusIconWarning:`${y}__status-icon-warning`,switch:`${y}__switch`,switchContainer:`${y}__switch-container`,widgetContainer:`${y}__widget-container`};let c=class extends G{constructor(t,i){super(t,i),this._autoRefreshAssociations=!0,this._associationsOptionsEnabled=!1,this._maxAllowableAssociationsSliderMax=1e3,this._maxAllowableAssociationsSliderMin=250,this._maxAllowableAssociationsSliderStep=250,this.messages=null,this.messagesCommon=null,this.viewModel=new V,this.visibleElements=new O}initialize(){this.addHandles([g(()=>{var t;return[(t=this.view)==null?void 0:t.stationary,this.showAssociationsEnabled,this.includeConnectivityAssociations,this.includeStructuralAttachmentAssociations,this.maxAllowableAssociations]},()=>{this.autoRefreshAssociations===!0&&(this.showAssociationsEnabled===!0?this.viewModel.showAssociations():this.viewModel.removeAssociations())})])}get autoRefreshAssociations(){return this._autoRefreshAssociations}set autoRefreshAssociations(t){this._autoRefreshAssociations=t}get connectivityAssociationsLineSymbol(){return this.viewModel.connectivityAssociationsLineSymbol}set connectivityAssociationsLineSymbol(t){this.viewModel.connectivityAssociationsLineSymbol=t}get icon(){return"view-associations"}set icon(t){this._overrideIfSome("icon",t)}get includeConnectivityAssociations(){return this.viewModel.includeConnectivityAssociations}set includeConnectivityAssociations(t){this.viewModel.includeConnectivityAssociations=t}get includeStructuralAttachmentAssociations(){return this.viewModel.includeStructuralAttachmentAssociations}set includeStructuralAttachmentAssociations(t){this.viewModel.includeStructuralAttachmentAssociations=t}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get maxAllowableAssociations(){return this.viewModel.maxAllowableAssociations}set maxAllowableAssociations(t){this.viewModel.maxAllowableAssociations=t}get maxAllowableAssociationsSliderMax(){return this._maxAllowableAssociationsSliderMax}set maxAllowableAssociationsSliderMax(t){t<=this.maxAllowableAssociationsSliderMin||(this._maxAllowableAssociationsSliderMax=t)}get maxAllowableAssociationsSliderMin(){return this._maxAllowableAssociationsSliderMin}set maxAllowableAssociationsSliderMin(t){t<0||t>=this.maxAllowableAssociationsSliderMax||(this._maxAllowableAssociationsSliderMin=t)}get maxAllowableAssociationsSliderStep(){return this._maxAllowableAssociationsSliderStep}set maxAllowableAssociationsSliderStep(t){this._maxAllowableAssociationsSliderStep=t}get showArrowsConnectivity(){return this.viewModel.showArrowsConnectivity}set showArrowsConnectivity(t){this.viewModel.showArrowsConnectivity=t}get showArrowsStructuralAttachment(){return this.viewModel.showArrowsStructuralAttachment}set showArrowsStructuralAttachment(t){this.viewModel.showArrowsStructuralAttachment=t}get showAssociationsEnabled(){return this.viewModel.showAssociationsEnabled}set showAssociationsEnabled(t){this.viewModel.showAssociationsEnabled=t}get structuralAttachmentAssociationsLineSymbol(){return this.viewModel.structuralAttachmentAssociationsLineSymbol}set structuralAttachmentAssociationsLineSymbol(t){this.viewModel.structuralAttachmentAssociationsLineSymbol=t}get utilityNetwork(){return this.viewModel.utilityNetwork}set utilityNetwork(t){this.viewModel.utilityNetwork=t}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){const{label:t}=this;return s("div",{class:h.widgetContainer},s("calcite-block",{class:h.blockContent,collapsible:!0,heading:t},this._renderStatusIcon(),this.autoRefreshAssociations?this._renderShowAssociationsSwitch():this._renderRefreshAssociationsAction(),this._renderContent()))}loadDependencies(){return D({action:()=>m(()=>import("./calcite-action-BQdWHUTy.js"),__vite__mapDeps([33,34,1,2,3,4,5,8,10,22,9,11,16,23,17,35])),block:()=>m(()=>import("./calcite-block-qdFeD75E.js"),__vite__mapDeps([36,1,2,3,4,37,11,5,8,22,9,23,38,10,12,34,16,17,35,39,40,41,6,7,42,43,44,45])),"block-section":()=>m(()=>import("./calcite-block-section-CgMu0zRh.js"),__vite__mapDeps([46,1,2,3,4,5,9,22,11,23,10,17,32,20,8,21,16])),icon:()=>m(()=>import("./calcite-icon-W-AdNGRC.js"),__vite__mapDeps([47,17,1,2,3,4,5,11])),label:()=>m(()=>import("./calcite-label-75nr6He8.js"),__vite__mapDeps([30,1,2,3,4,21,5,16])),notice:()=>m(()=>import("./calcite-notice-DA7FQ9_1.js"),__vite__mapDeps([48,1,2,3,4,37,11,5,10,22,9,23,12,16,17])),panel:()=>m(()=>import("./calcite-panel-DcFdTOap.js"),__vite__mapDeps([49,50,1,2,3,4,5,8,10,11,39,40,9,34,22,16,23,17,35,41,6,7,42,12,38,43,45])),slider:()=>m(()=>import("./calcite-slider-C3q287pg.js"),__vite__mapDeps([51,1,2,3,4,5,20,8,9,21,16,10,22,11,52])),switch:()=>m(()=>import("./calcite-switch-CWeNlSSv.js"),__vite__mapDeps([31,32,1,2,3,4,5,20,8,9,21,16,10])),tooltip:()=>m(()=>import("./calcite-tooltip-CXmK6QYS.js"),__vite__mapDeps([53,1,2,3,4,5,6,7,12,43]))})}_connectivityAssociationsSwitchChange(t){this.includeConnectivityAssociations=t.target.checked}_getLoadErrorMessagesAsNotices(t,i){return s("calcite-notice",{closable:!1,key:`error-notice-${i}`,kind:"warning",open:!0,scale:"s"},s("div",{slot:"message"},t))}_maxAllowableAssociationsSliderChange(t){this.maxAllowableAssociations=Number(t.target.value)}_refreshAssociations(){const{viewModel:t,viewModel:{state:i}}=this;i!=="ready"&&i!=="warning"||t.showAssociations()}_renderConnectivityAssociationsSettings(){const{messages:{input:{enableConnectivity:t}},visibleElements:{connectivityAssociationsSettings:i}}=this;if(i)return s("calcite-block-section",{class:h.blockSectionSettings,text:t},s(R,{id:`${this.id}-symbol-picker-connectivity`,lineSymbol:this.connectivityAssociationsLineSymbol,showArrows:this.showArrowsConnectivity,visibleElements:i}))}_renderConnectivityAssociationsToggle(){const{messages:{input:{enableConnectivity:t}}}=this;return s("div",{class:h.labelAndToggle,key:"connectivityAssociationsToggleDiv"},s("calcite-label",{class:h.label},t),s("calcite-switch",{bind:this,checked:this.includeConnectivityAssociations,disabled:!this._associationsOptionsEnabled&&this.autoRefreshAssociations,onCalciteSwitchChange:this._connectivityAssociationsSwitchChange}))}_renderContent(){const{viewModel:{loadErrors:t,state:i}}=this;return i==="disabled"?s("div",{class:h.divControlsMain,key:"loadErrorsDiv"},t.items.map(this._getLoadErrorMessagesAsNotices)):s("calcite-panel",{disabled:i==="loading"},s("div",{class:h.divControlsMain},this._renderConnectivityAssociationsToggle(),this._renderStructuralAttachmentAssociationsToggle(),this._renderSettingsPane()))}_renderLoadingAction(t,i,n){return s("div",{key:t,slot:"control"},s("calcite-action",{id:i,loading:!0,text:n}),s("calcite-tooltip",{referenceElement:i},s("span",null,n)))}_renderMaxAllowableAssociationsSlider(){const{messages:{input:{maxAllowableAssociations:t}},visibleElements:{maxAllowableAssociationsSlider:i}}=this;if(i)return s("div",{class:h.labelAndSlider},s("calcite-label",{class:h.label},t),s("calcite-slider",{bind:this,class:h.slider,labelTicks:!0,max:this.maxAllowableAssociationsSliderMax,min:this.maxAllowableAssociationsSliderMin,scale:"s",snap:!0,step:this.maxAllowableAssociationsSliderStep,ticks:this.maxAllowableAssociationsSliderStep,value:this.maxAllowableAssociations,onCalciteSliderChange:this._maxAllowableAssociationsSliderChange}))}_renderRefreshAssociationsAction(){const{messages:{input:{refreshAssociations:t}},messagesCommon:{loading:i},viewModel:{state:n}}=this,r=`${this.id}-refresh-action`;if(n!=="disabled")return s("div",{class:h.actionRefresh,slot:"control"},s("calcite-action",{bind:this,class:h.action,icon:"refresh-f",id:r,loading:n==="loading",onclick:this._refreshAssociations,text:t}),s("calcite-tooltip",{referenceElement:r},s("span",null,n==="loading"?i:t)))}_renderSettingsPane(){const{messagesCommon:{settings:t},visibleElements:{maxAllowableAssociationsSlider:i,connectivityAssociationsSettings:n,structuralAttachmentAssociationsSettings:r}}=this;if(i||n||r)return s("calcite-block",{class:h.blockContent,collapsible:!0,heading:t},this._renderMaxAllowableAssociationsSlider(),this._renderConnectivityAssociationsSettings(),this._renderStructuralAttachmentAssociationsSettings())}_renderShowAssociationsSwitch(){const{messages:{input:{enableAssociations:t}},messagesCommon:{loading:i},viewModel:{state:n}}=this,r=`${this.id}-show-associations-switch`;if(n!=="disabled")return n==="loading"?this._renderLoadingAction("loadingActionDiv",`${this.id}-loading-action`,i):s("div",{class:h.switchContainer,key:"switchDiv",slot:"control"},s("calcite-switch",{bind:this,checked:this.showAssociationsEnabled,class:h.switch,id:r,onCalciteSwitchChange:this._showAssociationsSwitchChange}),s("calcite-tooltip",{referenceElement:r},s("span",null,t)))}_renderStatusIcon(){const{messagesCommon:{executing:t},viewModel:{executionError:i,state:n}}=this;switch(n){case"disabled":return this._renderWarningIcon("statusDiv",`${this.id}-disabled-icon`,null);case"warning":return this._renderWarningIcon("statusDiv",`${this.id}-warning-icon`,i);case"executing":return this._renderLoadingAction("executingActionDiv",`${this.id}-executing-action`,t);default:return}}_renderStructuralAttachmentAssociationsSettings(){const{messages:{input:{enableStructuralAttachment:t}},visibleElements:{structuralAttachmentAssociationsSettings:i}}=this;if(i)return s("calcite-block-section",{class:h.blockSectionSettings,text:t},s(R,{id:`${this.id}-symbol-picker-structural-attachment`,lineSymbol:this.structuralAttachmentAssociationsLineSymbol,showArrows:this.showArrowsStructuralAttachment,visibleElements:i}))}_renderStructuralAttachmentAssociationsToggle(){const{messages:{input:{enableStructuralAttachment:t}}}=this;return s("div",{class:h.labelAndToggle,key:"structuralAttachmentAssociationsToggleDiv"},s("calcite-label",{class:h.label},t),s("calcite-switch",{bind:this,checked:this.includeStructuralAttachmentAssociations,disabled:!this._associationsOptionsEnabled&&this.autoRefreshAssociations,onCalciteSwitchChange:this._structuralAttAssociationsSwitchChange}))}_showAssociationsSwitchChange(t){const{viewModel:i}=this;this.showAssociationsEnabled=t.target.checked,this._associationsOptionsEnabled=t.target.checked,this.showAssociationsEnabled||i.removeAssociations()}_structuralAttAssociationsSwitchChange(t){this.includeStructuralAttachmentAssociations=t.target.checked}_renderWarningIcon(t,i,n){return n?s("div",{class:h.statusIconContainer,key:t,slot:"control"},s("calcite-icon",{class:h.statusIconWarning,icon:"exclamation-mark-triangle",id:i,scale:"s"}),s("calcite-tooltip",{referenceElement:i},s("span",null,n))):s("div",{class:h.statusIconContainer,key:t,slot:"control"},s("calcite-icon",{class:h.statusIconWarning,icon:"exclamation-mark-triangle",id:i,scale:"s"}))}};e([o()],c.prototype,"autoRefreshAssociations",null),e([o()],c.prototype,"connectivityAssociationsLineSymbol",null),e([o()],c.prototype,"icon",null),e([o()],c.prototype,"includeConnectivityAssociations",null),e([o()],c.prototype,"includeStructuralAttachmentAssociations",null),e([o()],c.prototype,"label",null),e([o()],c.prototype,"maxAllowableAssociations",null),e([o()],c.prototype,"maxAllowableAssociationsSliderMax",null),e([o()],c.prototype,"maxAllowableAssociationsSliderMin",null),e([o()],c.prototype,"maxAllowableAssociationsSliderStep",null),e([o(),f("esri/widgets/UtilityNetworkAssociations/t9n/UtilityNetworkAssociations")],c.prototype,"messages",void 0),e([o(),f("esri/t9n/common")],c.prototype,"messagesCommon",void 0),e([o()],c.prototype,"showArrowsConnectivity",null),e([o()],c.prototype,"showArrowsStructuralAttachment",null),e([o()],c.prototype,"showAssociationsEnabled",null),e([o()],c.prototype,"structuralAttachmentAssociationsLineSymbol",null),e([o()],c.prototype,"utilityNetwork",null),e([o()],c.prototype,"view",null),e([o({type:V})],c.prototype,"viewModel",void 0),e([o({type:O,nonNullable:!0})],c.prototype,"visibleElements",void 0),c=e([L("esri.widgets.UtilityNetworkAssociations")],c);const tt=c;export{tt as default};

import{eE as n,cx as a,cb as l,M as d,j6 as u,bY as h,dN as s,dI as m}from"./index-DX0rcHuW.js";import{t as g}from"./ElevationProfile-CRUPn4HG.js";import{a as _}from"./HoveredPoints-CXMCOW6Z.js";import{n as c}from"./layerViewUtils-D2JqIDZ8.js";import"./memoize-DsJmrG76.js";import"./jsxFactory-DmHi7Kb2.js";import"./uuid-fwrPAdZb.js";import"./ByteSizeUnit-BsxeN7wM.js";import"./ElevationQueryTileCache-ByGSevWc.js";import"./projectVectorToVector-DjKO2tJh.js";import"./projectPointToVector-6lqiVL77.js";import"./LayerConstants-B33OP6sh.js";import"./Material-BfvzXcva.js";import"./interfaces-B8ge7Jg9.js";import"./basicInterfaces-wONHx_SN.js";import"./VertexAttribute-BnAa5VW0.js";import"./ViewingMode-Dodu7ZZk.js";import"./ElevationProvider-Xg9LKEp7.js";import"./mat4f64-Dk4dwAN8.js";import"./sphere-COyqsaGw.js";import"./plane-BL9J6YX0.js";import"./mat3f64-BBpwCtoL.js";import"./quatf64-BrpT0VRp.js";import"./vec2f64-Diu2Kaa8.js";import"./mathUtils-BsqbT0oM.js";import"./boundedPlane-MAPkm7Yi.js";import"./lineSegment-C2OVzbAD.js";import"./verticalOffsetUtils-Bq_pVrum.js";import"./mat3-Ck4GO2qT.js";import"./orientedBoundingBox-BTwqkknQ.js";import"./quat-DrJsq_-D.js";import"./spatialReferenceEllipsoidUtils-Bv0mQCFg.js";import"./computeTranslationToOriginAndRotation-B9BchKSd.js";import"./Intersector-CG5xfiNM.js";import"./Intersector-ENyKy7_L.js";import"./defaultUnit-CeSgMfuW.js";import"./getDefaultUnitForView-Cl7rPtCt.js";import"./throttle-jjSnxk80.js";import"./elevationInfoUtils-JmMUMmCn.js";import"./vec2-C-4tM9Uv.js";import"./geodesicUtils-BPlO99Nt.js";import"./QueueProcessor-01Ee2ByR.js";import"./ReactiveMap-r-vujrh9.js";import"./signal-CpmfLcHB.js";import"./Scheduler-Bg_fxWwI.js";import"./debugFlags-Cr0sx6r_.js";import"./traversalUtils-DmE6QkgJ.js";import"./Ground-dhRLerDt.js";import"./loadAll-8MiqgLTH.js";import"./ElevationQuery-DaGOvBJY.js";import"./ElevationSamplerData-CFwzCheb.js";import"./ElevationTile-MIg3DBTc.js";import"./TileKey-DZd6gJy7.js";import"./GraphicsLayer-SBXo_p0G.js";import"./GraphicsCollection-BjA_qBYu.js";import"./InputManager-abOXR3ru.js";import"./SketchViewModel-CW2OqW_5.js";import"./isSupportedObject-DZrOSWxn.js";import"./SketchLabelOptions-zVB6yjLA.js";import"./SnappingManager-C8RCylzd.js";import"./UpdatingHandles-CERUeL1P.js";import"./geometry2dUtils-D5ud2BJg.js";import"./floorFilterUtils-DZ5C6FQv.js";import"./keybindings-RFI4I3n4.js";import"./utils-CXgSw6Sd.js";import"./geodesicLengthMeasurementUtils-1VjlYqtL.js";import"./quantityUtils-DSpmykXR.js";import"./geometryEngine-C92iiwvG.js";import"./geometryEngineBase-RmbNeFm7.js";import"./_commonjsHelpers-DCkdB7M8.js";import"./hydrated-CEL7VY_R.js";import"./Cyclical-CEj-eenM.js";import"./layerUtils-BS1Di3Pm.js";import"./hitTestSelectUtils-UXJPjatw.js";import"./screenUtils-BcEL8jIe.js";import"./unitFormatUtils-BYvkXWcg.js";import"./substitute-e0S7rtIE.js";import"./UnitSelect-Cjf2PU8k.js";import"./globalCss-CZa70j6i.js";import"./AnchorElementViewModel-tkNzekRS.js";class v{constructor(t){this._params=t,this._highlightTask=null,this._highlightHandle=null}destroy(){this.remove()}remove(){this._highlightTask=n(this._highlightTask),this._highlightHandle=a(this._highlightHandle)}update(t){if(this.remove(),t==null||!w(t))return;const o=t.layer;this._highlightTask=l(async i=>{const p=await this._params.view.whenLayerView(o);d(i);const e=c(p)?p:null;e&&(this._highlightHandle=e.highlight(t))})}}function w(r){return r.geometry!=null&&r.geometry.type==="polyline"}class Gt{constructor(t,o){this._handles=new u,this._inputRepresentation=new v({view:t}),this._hoveredPoints=new _({view:t}),this._handles.add([h(()=>o.viewModel.hoveredPoints,i=>this._hoveredPoints.update(i),s),h(()=>{const{state:i,highlightEnabled:p,viewModel:e}=o;return{input:e.input,state:i,highlightEnabled:p}},i=>this._updateInputRepresentation(i),s)])}destroy(){this._handles=m(this._handles),this._inputRepresentation=m(this._inputRepresentation),this._hoveredPoints=m(this._hoveredPoints)}_updateInputRepresentation({input:t,state:o,highlightEnabled:i}){o===g.Selected&&i?this._inputRepresentation.update(t):this._inputRepresentation.remove()}}export{Gt as ElevationProfileView2D};

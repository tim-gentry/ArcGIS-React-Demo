import{s as m,U as c}from"./index-DX0rcHuW.js";import{f as d,i as f,s as u}from"./utils-nzDIu46v.js";import{r as v}from"./serverVersionUtils-By8Hm7KS.js";const s=new Map;async function l(e,t,i){s.has(e)||await v(s,e);const r=s.get(e);if(((r==null?void 0:r.serverVersion)??0)<=11.1)throw new m("deleteVersion:enterprise-version","versioning API requires ArcGIS Enterprise version 11.2 or higher");const o=d(e),n=t.toJSON(),a=f(o.query,{query:u({...n,f:"json"}),...i,authMode:"immediate",method:"post"}),p=`${o.path}/delete`,{data:h}=await c(p,a);return h.success}export{l as deleteVersion,s as serverVersionCacheMap};
